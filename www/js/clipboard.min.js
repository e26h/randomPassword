"use strict";!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.Clipboard=t()}}(function(){return function t(e,n,i){function o(a,c){if(!n[a]){if(!e[a]){var s="function"==typeof require&&require;if(!c&&s)return s(a,!0);if(r)return r(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[a]={exports:{}};e[a][0].call(u.exports,function(t){var n=e[a][1][t];return o(n?n:t)},u,u.exports,t,e,n,i)}return n[a].exports}for(var r="function"==typeof require&&require,a=0;a<i.length;a++)o(i[a]);return o}({1:[function(t,e,n){var i=t("closest"),o=t("component-event"),r=["focus","blur"];n.bind=function(t,e,n,a,c){return-1!==r.indexOf(n)&&(c=!0),o.bind(t,n,function(n){var o=n.target||n.srcElement;n.delegateTarget=i(o,e,!0,t),n.delegateTarget&&a.call(t,n)},c)},n.unbind=function(t,e,n,i){-1!==r.indexOf(e)&&(i=!0),o.unbind(t,e,n,i)}},{closest:2,"component-event":4}],2:[function(t,e,n){var i=t("matches-selector");e.exports=function(t,e,n){for(var o=n?t:t.parentNode;o&&o!==document;){if(i(o,e))return o;o=o.parentNode}}},{"matches-selector":3}],3:[function(t,e,n){function i(t,e){if(r)return r.call(t,e);for(var n=t.parentNode.querySelectorAll(e),i=0;i<n.length;++i)if(n[i]==t)return!0;return!1}var o=Element.prototype,r=o.matchesSelector||o.webkitMatchesSelector||o.mozMatchesSelector||o.msMatchesSelector||o.oMatchesSelector;e.exports=i},{}],4:[function(t,e,n){var i=window.addEventListener?"addEventListener":"attachEvent",o=window.removeEventListener?"removeEventListener":"detachEvent",r="addEventListener"!==i?"on":"";n.bind=function(t,e,n,o){return t[i](r+e,n,o||!1),n},n.unbind=function(t,e,n,i){return t[o](r+e,n,i||!1),n}},{}],5:[function(t,e,n){function i(){}i.prototype={on:function(t,e,n){var i=this.e||(this.e={});return(i[t]||(i[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){var i=this,o=function r(){i.off(t,r),e.apply(n,arguments)};return this.on(t,o,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),i=0,o=n.length;for(i;o>i;i++)n[i].fn.apply(n[i].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),i=n[t],o=[];if(i&&e)for(var r=0,a=i.length;a>r;r++)i[r].fn!==e&&o.push(i[r]);return o.length?n[t]=o:delete n[t],this}},e.exports=i},{}],6:[function(t,e,n){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(e){i(this,t),this.resolveOptions(e),this.initSelection()}return t.prototype.resolveOptions=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action=t.action,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""},t.prototype.initSelection=function(){if(this.text&&this.target)throw new Error('Multiple attributes declared, use either "target" or "text"');if(this.text)this.selectFake();else{if(!this.target)throw new Error('Missing required attributes, use either "target" or "text"');this.selectTarget()}},t.prototype.selectFake=function(){var t=this;this.removeFake(),this.fakeHandler=document.body.addEventListener("click",function(){return t.removeFake()}),this.fakeElem=document.createElement("textarea"),this.fakeElem.style.position="absolute",this.fakeElem.style.left="-9999px",this.fakeElem.style.top=document.body.scrollTop+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.selectedText=this.text,document.body.appendChild(this.fakeElem),this.fakeElem.select(),this.copyText()},t.prototype.removeFake=function(){this.fakeHandler&&(document.body.removeEventListener("click"),this.fakeHandler=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)},t.prototype.selectTarget=function(){if("INPUT"===this.target.nodeName||"TEXTAREA"===this.target.nodeName)this.target.select(),this.selectedText=this.target.value;else{var t=document.createRange(),e=window.getSelection();t.selectNodeContents(this.target),e.addRange(t),this.selectedText=e.toString()}this.copyText()},t.prototype.copyText=function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)},t.prototype.handleResult=function(t){t?this.emitter.emit("success",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)}):this.emitter.emit("error",{action:this.action,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})},t.prototype.clearSelection=function(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()},t.prototype.destroy=function(){this.removeFake()},o(t,[{key:"action",set:function(){var t=arguments.length<=0||void 0===arguments[0]?"copy":arguments[0];if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!=typeof t||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');this._target=t}},get:function(){return this._target}}]),t}();n["default"]=r,e.exports=n["default"]},{}],7:[function(t,e,n){function i(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e){var n="data-clipboard-"+t;return e.hasAttribute(n)?e.getAttribute(n):void 0}n.__esModule=!0;var c=t("./clipboard-action"),s=i(c),l=t("delegate-events"),u=i(l),f=t("tiny-emitter"),d=i(f),h=function(t){function e(n,i){o(this,e),t.call(this),this.resolveOptions(i),this.delegateClick(n)}return r(e,t),e.prototype.resolveOptions=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText},e.prototype.delegateClick=function(t){var e=this;this.binding=u["default"].bind(document.body,t,"click",function(t){return e.onClick(t)})},e.prototype.undelegateClick=function(){u["default"].unbind(document.body,"click",this.binding)},e.prototype.onClick=function(t){this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new s["default"]({action:this.action(t.delegateTarget),target:this.target(t.delegateTarget),text:this.text(t.delegateTarget),trigger:t.delegateTarget,emitter:this})},e.prototype.defaultAction=function(t){return a("action",t)},e.prototype.defaultTarget=function(t){var e=a("target",t);return e?document.querySelector(e):void 0},e.prototype.defaultText=function(t){return a("text",t)},e.prototype.destroy=function(){this.undelegateClick(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)},e}(d["default"]);n["default"]=h,e.exports=n["default"]},{"./clipboard-action":6,"delegate-events":1,"tiny-emitter":5}]},{},[7])(7)});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNsaXBib2FyZC5taW4uanMiXSwibmFtZXMiOlsiYSIsImV4cG9ydHMiLCJtb2R1bGUiLCJkZWZpbmUiLCJhbWQiLCJiIiwid2luZG93IiwiZ2xvYmFsIiwic2VsZiIsInRoaXMiLCJDbGlwYm9hcmQiLCJjIiwiZCIsImUiLCJnIiwiaCIsImkiLCJyZXF1aXJlIiwiZiIsImoiLCJFcnJvciIsImNvZGUiLCJrIiwiY2FsbCIsImxlbmd0aCIsMSwiYmluZCIsImluZGV4T2YiLCJ0YXJnZXQiLCJzcmNFbGVtZW50IiwiZGVsZWdhdGVUYXJnZXQiLCJ1bmJpbmQiLCJjbG9zZXN0IiwiY29tcG9uZW50LWV2ZW50IiwyLCJwYXJlbnROb2RlIiwiZG9jdW1lbnQiLCJtYXRjaGVzLXNlbGVjdG9yIiwzLCJxdWVyeVNlbGVjdG9yQWxsIiwiRWxlbWVudCIsInByb3RvdHlwZSIsIm1hdGNoZXNTZWxlY3RvciIsIndlYmtpdE1hdGNoZXNTZWxlY3RvciIsIm1vek1hdGNoZXNTZWxlY3RvciIsIm1zTWF0Y2hlc1NlbGVjdG9yIiwib01hdGNoZXNTZWxlY3RvciIsNCwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLDUsIm9uIiwicHVzaCIsImZuIiwiY3R4Iiwib25jZSIsIm9mZiIsImFwcGx5IiwiYXJndW1lbnRzIiwiZW1pdCIsInNsaWNlIiw2LCJUeXBlRXJyb3IiLCJfX2VzTW9kdWxlIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJrZXkiLCJyZXNvbHZlT3B0aW9ucyIsImluaXRTZWxlY3Rpb24iLCJhY3Rpb24iLCJlbWl0dGVyIiwidGV4dCIsInRyaWdnZXIiLCJzZWxlY3RlZFRleHQiLCJzZWxlY3RGYWtlIiwic2VsZWN0VGFyZ2V0IiwicmVtb3ZlRmFrZSIsImZha2VIYW5kbGVyIiwiYm9keSIsImZha2VFbGVtIiwiY3JlYXRlRWxlbWVudCIsInN0eWxlIiwicG9zaXRpb24iLCJsZWZ0IiwidG9wIiwic2Nyb2xsVG9wIiwic2V0QXR0cmlidXRlIiwidmFsdWUiLCJhcHBlbmRDaGlsZCIsInNlbGVjdCIsImNvcHlUZXh0IiwicmVtb3ZlQ2hpbGQiLCJub2RlTmFtZSIsImNyZWF0ZVJhbmdlIiwiZ2V0U2VsZWN0aW9uIiwic2VsZWN0Tm9kZUNvbnRlbnRzIiwiYWRkUmFuZ2UiLCJ0b1N0cmluZyIsImV4ZWNDb21tYW5kIiwiaGFuZGxlUmVzdWx0IiwiY2xlYXJTZWxlY3Rpb24iLCJibHVyIiwicmVtb3ZlQWxsUmFuZ2VzIiwiZGVzdHJveSIsInNldCIsIl9hY3Rpb24iLCJnZXQiLCJub2RlVHlwZSIsIl90YXJnZXQiLDcsImRlZmF1bHQiLCJjcmVhdGUiLCJjb25zdHJ1Y3RvciIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiaGFzQXR0cmlidXRlIiwiZ2V0QXR0cmlidXRlIiwibCIsIm0iLCJuIiwiZGVsZWdhdGVDbGljayIsImRlZmF1bHRBY3Rpb24iLCJkZWZhdWx0VGFyZ2V0IiwiZGVmYXVsdFRleHQiLCJiaW5kaW5nIiwib25DbGljayIsInVuZGVsZWdhdGVDbGljayIsImNsaXBib2FyZEFjdGlvbiIsInF1ZXJ5U2VsZWN0b3IiLCIuL2NsaXBib2FyZC1hY3Rpb24iLCJkZWxlZ2F0ZS1ldmVudHMiLCJ0aW55LWVtaXR0ZXIiXSwibWFwcGluZ3MiOiJBQUFBLGNBQ0MsU0FBVUEsR0FEVixHQUFBLGdCQUFXQyxVQUFBLG1CQUFBQyxRQUFDQSxPQUFHRCxRQUFVRCxRQUE4SCxJQUFPLGtCQUFjRyxTQUFhQSxPQUFDQyxJQUE0RkQsVUFBQUgsT0FBRSxDQUFXLEdBQUFLLEVBQXlCQSxHQUFBLG1CQUFlQyxRQUFBQSxPQUFBLG1CQUFBQyxRQUFBQSxPQUFBLG1CQUFBQyxNQUFBQSxLQUFBQyxLQUFBSixFQUFBSyxVQUFBVixNQUFXLFdBQVUsTUFBQSxTQUFNQSxHQUFBSyxFQUFBTSxFQUFBQyxHQVluVyxRQVp1Z0JDLEdBQUNDLEVBQUVDLEdBQW9ELElBQUFK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QUFFOEIsZ0JBQ2xCNkMsUUFBUzNFLEVBQUU4QixlQUNYMkMsUUFBU2hFLFFBRVZKLEVBQUVvQyxVQUFVbUYsY0FBZ0IsU0FBVTVILEdBQ3ZDLE1BQU9jLEdBQUUsU0FBVWQsSUFDbEJLLEVBQUVvQyxVQUFVb0YsY0FBZ0IsU0FBVTdILEdBQ3ZDLEdBQUlLLEdBQUlTLEVBQUUsU0FBVWQsRUFDcEIsT0FBT0ssR0FBSStCLFNBQVMrRixjQUFjOUgsR0FBSyxRQUN0Q0EsRUFBRW9DLFVBQVVxRixZQUFjLFNBQVU5SCxHQUNyQyxNQUFPYyxHQUFFLE9BQVFkLElBQ2hCSyxFQUFFb0MsVUFBVWlFLFFBQVUsV0FDdkJqRyxLQUFLd0gsa0JBQW1CeEgsS0FBS3lILGtCQUFvQnpILEtBQUt5SCxnQkFBZ0J4QixVQUFXakcsS0FBS3lILGdCQUFrQixPQUN2RzdILEdBQ0hvSCxFQUFFLFdBQ045RyxHQUFFLFdBQWErRyxFQUFHckgsRUFBRUosUUFBVVUsRUFBRSxhQUdoQ3lILHFCQUFzQixFQUN0QkMsa0JBQW1CLEVBQ25CQyxlQUFnQixTQUdkLElBQUkiLCJmaWxlIjoiY2xpcGJvYXJkLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiFmdW5jdGlvbihhKXtpZihcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZSltb2R1bGUuZXhwb3J0cz1hKCk7ZWxzZSBpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQpZGVmaW5lKFtdLGEpO2Vsc2V7dmFyIGI7Yj1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzpcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOnRoaXMsYi5DbGlwYm9hcmQ9YSgpfX0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24gYShiLGMsZCl7ZnVuY3Rpb24gZShnLGgpe2lmKCFjW2ddKXtpZighYltnXSl7dmFyIGk9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighaCYmaSlyZXR1cm4gaShnLCEwKTtpZihmKXJldHVybiBmKGcsITApO3ZhciBqPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrZytcIidcIik7dGhyb3cgai5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGp9dmFyIGs9Y1tnXT17ZXhwb3J0czp7fX07YltnXVswXS5jYWxsKGsuZXhwb3J0cyxmdW5jdGlvbihhKXt2YXIgYz1iW2ddWzFdW2FdO3JldHVybiBlKGM/YzphKX0sayxrLmV4cG9ydHMsYSxiLGMsZCl9cmV0dXJuIGNbZ10uZXhwb3J0c31mb3IodmFyIGY9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxnPTA7ZzxkLmxlbmd0aDtnKyspZShkW2ddKTtyZXR1cm4gZX0oezE6W2Z1bmN0aW9uKGEsYixjKXt2YXIgZD1hKFwiY2xvc2VzdFwiKSxlPWEoXCJjb21wb25lbnQtZXZlbnRcIiksZj1bXCJmb2N1c1wiLFwiYmx1clwiXTtjLmJpbmQ9ZnVuY3Rpb24oYSxiLGMsZyxoKXtyZXR1cm4tMSE9PWYuaW5kZXhPZihjKSYmKGg9ITApLGUuYmluZChhLGMsZnVuY3Rpb24oYyl7dmFyIGU9Yy50YXJnZXR8fGMuc3JjRWxlbWVudDtjLmRlbGVnYXRlVGFyZ2V0PWQoZSxiLCEwLGEpLGMuZGVsZWdhdGVUYXJnZXQmJmcuY2FsbChhLGMpfSxoKX0sYy51bmJpbmQ9ZnVuY3Rpb24oYSxiLGMsZCl7LTEhPT1mLmluZGV4T2YoYikmJihkPSEwKSxlLnVuYmluZChhLGIsYyxkKX19LHtjbG9zZXN0OjIsXCJjb21wb25lbnQtZXZlbnRcIjo0fV0sMjpbZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWEoXCJtYXRjaGVzLXNlbGVjdG9yXCIpO2IuZXhwb3J0cz1mdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBlPWM/YTphLnBhcmVudE5vZGU7ZSYmZSE9PWRvY3VtZW50Oyl7aWYoZChlLGIpKXJldHVybiBlO2U9ZS5wYXJlbnROb2RlfX19LHtcIm1hdGNoZXMtc2VsZWN0b3JcIjozfV0sMzpbZnVuY3Rpb24oYSxiLGMpe2Z1bmN0aW9uIGQoYSxiKXtpZihmKXJldHVybiBmLmNhbGwoYSxiKTtmb3IodmFyIGM9YS5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3JBbGwoYiksZD0wO2Q8Yy5sZW5ndGg7KytkKWlmKGNbZF09PWEpcmV0dXJuITA7cmV0dXJuITF9dmFyIGU9RWxlbWVudC5wcm90b3R5cGUsZj1lLm1hdGNoZXNTZWxlY3Rvcnx8ZS53ZWJraXRNYXRjaGVzU2VsZWN0b3J8fGUubW96TWF0Y2hlc1NlbGVjdG9yfHxlLm1zTWF0Y2hlc1NlbGVjdG9yfHxlLm9NYXRjaGVzU2VsZWN0b3I7Yi5leHBvcnRzPWR9LHt9XSw0OltmdW5jdGlvbihhLGIsYyl7dmFyIGQ9d2luZG93LmFkZEV2ZW50TGlzdGVuZXI/XCJhZGRFdmVudExpc3RlbmVyXCI6XCJhdHRhY2hFdmVudFwiLGU9d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXI/XCJyZW1vdmVFdmVudExpc3RlbmVyXCI6XCJkZXRhY2hFdmVudFwiLGY9XCJhZGRFdmVudExpc3RlbmVyXCIhPT1kP1wib25cIjpcIlwiO2MuYmluZD1mdW5jdGlvbihhLGIsYyxlKXtyZXR1cm4gYVtkXShmK2IsYyxlfHwhMSksY30sYy51bmJpbmQ9ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIGFbZV0oZitiLGMsZHx8ITEpLGN9fSx7fV0sNTpbZnVuY3Rpb24oYSxiLGMpe2Z1bmN0aW9uIGQoKXt9ZC5wcm90b3R5cGU9e29uOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLmV8fCh0aGlzLmU9e30pO3JldHVybihkW2FdfHwoZFthXT1bXSkpLnB1c2goe2ZuOmIsY3R4OmN9KSx0aGlzfSxvbmNlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLGU9ZnVuY3Rpb24oKXtkLm9mZihhLGUpLGIuYXBwbHkoYyxhcmd1bWVudHMpfTtyZXR1cm4gdGhpcy5vbihhLGUsYyl9LGVtaXQ6ZnVuY3Rpb24oYSl7dmFyIGI9W10uc2xpY2UuY2FsbChhcmd1bWVudHMsMSksYz0oKHRoaXMuZXx8KHRoaXMuZT17fSkpW2FdfHxbXSkuc2xpY2UoKSxkPTAsZT1jLmxlbmd0aDtmb3IoZDtlPmQ7ZCsrKWNbZF0uZm4uYXBwbHkoY1tkXS5jdHgsYik7cmV0dXJuIHRoaXN9LG9mZjpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZXx8KHRoaXMuZT17fSksZD1jW2FdLGU9W107aWYoZCYmYilmb3IodmFyIGY9MCxnPWQubGVuZ3RoO2c+ZjtmKyspZFtmXS5mbiE9PWImJmUucHVzaChkW2ZdKTtyZXR1cm4gZS5sZW5ndGg/Y1thXT1lOmRlbGV0ZSBjW2FdLHRoaXN9fSxiLmV4cG9ydHM9ZH0se31dLDY6W2Z1bmN0aW9uKGEsYixjKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBkKGEsYil7aWYoIShhIGluc3RhbmNlb2YgYikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX1jLl9fZXNNb2R1bGU9ITA7dmFyIGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYil7Zm9yKHZhciBjPTA7YzxiLmxlbmd0aDtjKyspe3ZhciBkPWJbY107ZC5lbnVtZXJhYmxlPWQuZW51bWVyYWJsZXx8ITEsZC5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gZCYmKGQud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLGQua2V5LGQpfX1yZXR1cm4gZnVuY3Rpb24oYixjLGQpe3JldHVybiBjJiZhKGIucHJvdG90eXBlLGMpLGQmJmEoYixkKSxifX0oKSxmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShiKXtkKHRoaXMsYSksdGhpcy5yZXNvbHZlT3B0aW9ucyhiKSx0aGlzLmluaXRTZWxlY3Rpb24oKX1yZXR1cm4gYS5wcm90b3R5cGUucmVzb2x2ZU9wdGlvbnM9ZnVuY3Rpb24oKXt2YXIgYT1hcmd1bWVudHMubGVuZ3RoPD0wfHx2b2lkIDA9PT1hcmd1bWVudHNbMF0/e306YXJndW1lbnRzWzBdO3RoaXMuYWN0aW9uPWEuYWN0aW9uLHRoaXMuZW1pdHRlcj1hLmVtaXR0ZXIsdGhpcy50YXJnZXQ9YS50YXJnZXQsdGhpcy50ZXh0PWEudGV4dCx0aGlzLnRyaWdnZXI9YS50cmlnZ2VyLHRoaXMuc2VsZWN0ZWRUZXh0PVwiXCJ9LGEucHJvdG90eXBlLmluaXRTZWxlY3Rpb249ZnVuY3Rpb24oKXtpZih0aGlzLnRleHQmJnRoaXMudGFyZ2V0KXRocm93IG5ldyBFcnJvcignTXVsdGlwbGUgYXR0cmlidXRlcyBkZWNsYXJlZCwgdXNlIGVpdGhlciBcInRhcmdldFwiIG9yIFwidGV4dFwiJyk7aWYodGhpcy50ZXh0KXRoaXMuc2VsZWN0RmFrZSgpO2Vsc2V7aWYoIXRoaXMudGFyZ2V0KXRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCBhdHRyaWJ1dGVzLCB1c2UgZWl0aGVyIFwidGFyZ2V0XCIgb3IgXCJ0ZXh0XCInKTt0aGlzLnNlbGVjdFRhcmdldCgpfX0sYS5wcm90b3R5cGUuc2VsZWN0RmFrZT1mdW5jdGlvbigpe3ZhciBhPXRoaXM7dGhpcy5yZW1vdmVGYWtlKCksdGhpcy5mYWtlSGFuZGxlcj1kb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKCl7cmV0dXJuIGEucmVtb3ZlRmFrZSgpfSksdGhpcy5mYWtlRWxlbT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGV4dGFyZWFcIiksdGhpcy5mYWtlRWxlbS5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsdGhpcy5mYWtlRWxlbS5zdHlsZS5sZWZ0PVwiLTk5OTlweFwiLHRoaXMuZmFrZUVsZW0uc3R5bGUudG9wPWRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wK1wicHhcIix0aGlzLmZha2VFbGVtLnNldEF0dHJpYnV0ZShcInJlYWRvbmx5XCIsXCJcIiksdGhpcy5mYWtlRWxlbS52YWx1ZT10aGlzLnRleHQsdGhpcy5zZWxlY3RlZFRleHQ9dGhpcy50ZXh0LGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5mYWtlRWxlbSksdGhpcy5mYWtlRWxlbS5zZWxlY3QoKSx0aGlzLmNvcHlUZXh0KCl9LGEucHJvdG90eXBlLnJlbW92ZUZha2U9ZnVuY3Rpb24oKXt0aGlzLmZha2VIYW5kbGVyJiYoZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiksdGhpcy5mYWtlSGFuZGxlcj1udWxsKSx0aGlzLmZha2VFbGVtJiYoZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0aGlzLmZha2VFbGVtKSx0aGlzLmZha2VFbGVtPW51bGwpfSxhLnByb3RvdHlwZS5zZWxlY3RUYXJnZXQ9ZnVuY3Rpb24oKXtpZihcIklOUFVUXCI9PT10aGlzLnRhcmdldC5ub2RlTmFtZXx8XCJURVhUQVJFQVwiPT09dGhpcy50YXJnZXQubm9kZU5hbWUpdGhpcy50YXJnZXQuc2VsZWN0KCksdGhpcy5zZWxlY3RlZFRleHQ9dGhpcy50YXJnZXQudmFsdWU7ZWxzZXt2YXIgYT1kb2N1bWVudC5jcmVhdGVSYW5nZSgpLGI9d2luZG93LmdldFNlbGVjdGlvbigpO2Euc2VsZWN0Tm9kZUNvbnRlbnRzKHRoaXMudGFyZ2V0KSxiLmFkZFJhbmdlKGEpLHRoaXMuc2VsZWN0ZWRUZXh0PWIudG9TdHJpbmcoKX10aGlzLmNvcHlUZXh0KCl9LGEucHJvdG90eXBlLmNvcHlUZXh0PWZ1bmN0aW9uKCl7dmFyIGE9dm9pZCAwO3RyeXthPWRvY3VtZW50LmV4ZWNDb21tYW5kKHRoaXMuYWN0aW9uKX1jYXRjaChiKXthPSExfXRoaXMuaGFuZGxlUmVzdWx0KGEpfSxhLnByb3RvdHlwZS5oYW5kbGVSZXN1bHQ9ZnVuY3Rpb24oYSl7YT90aGlzLmVtaXR0ZXIuZW1pdChcInN1Y2Nlc3NcIix7YWN0aW9uOnRoaXMuYWN0aW9uLHRleHQ6dGhpcy5zZWxlY3RlZFRleHQsdHJpZ2dlcjp0aGlzLnRyaWdnZXIsY2xlYXJTZWxlY3Rpb246dGhpcy5jbGVhclNlbGVjdGlvbi5iaW5kKHRoaXMpfSk6dGhpcy5lbWl0dGVyLmVtaXQoXCJlcnJvclwiLHthY3Rpb246dGhpcy5hY3Rpb24sdHJpZ2dlcjp0aGlzLnRyaWdnZXIsY2xlYXJTZWxlY3Rpb246dGhpcy5jbGVhclNlbGVjdGlvbi5iaW5kKHRoaXMpfSl9LGEucHJvdG90eXBlLmNsZWFyU2VsZWN0aW9uPWZ1bmN0aW9uKCl7dGhpcy50YXJnZXQmJnRoaXMudGFyZ2V0LmJsdXIoKSx3aW5kb3cuZ2V0U2VsZWN0aW9uKCkucmVtb3ZlQWxsUmFuZ2VzKCl9LGEucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLnJlbW92ZUZha2UoKX0sZShhLFt7a2V5OlwiYWN0aW9uXCIsc2V0OmZ1bmN0aW9uKCl7dmFyIGE9YXJndW1lbnRzLmxlbmd0aDw9MHx8dm9pZCAwPT09YXJndW1lbnRzWzBdP1wiY29weVwiOmFyZ3VtZW50c1swXTtpZih0aGlzLl9hY3Rpb249YSxcImNvcHlcIiE9PXRoaXMuX2FjdGlvbiYmXCJjdXRcIiE9PXRoaXMuX2FjdGlvbil0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgXCJhY3Rpb25cIiB2YWx1ZSwgdXNlIGVpdGhlciBcImNvcHlcIiBvciBcImN1dFwiJyl9LGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hY3Rpb259fSx7a2V5OlwidGFyZ2V0XCIsc2V0OmZ1bmN0aW9uKGEpe2lmKHZvaWQgMCE9PWEpe2lmKCFhfHxcIm9iamVjdFwiIT10eXBlb2YgYXx8MSE9PWEubm9kZVR5cGUpdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIFwidGFyZ2V0XCIgdmFsdWUsIHVzZSBhIHZhbGlkIEVsZW1lbnQnKTt0aGlzLl90YXJnZXQ9YX19LGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90YXJnZXR9fV0pLGF9KCk7Y1tcImRlZmF1bHRcIl09ZixiLmV4cG9ydHM9Y1tcImRlZmF1bHRcIl19LHt9XSw3OltmdW5jdGlvbihhLGIsYyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gZChhKXtyZXR1cm4gYSYmYS5fX2VzTW9kdWxlP2E6e1wiZGVmYXVsdFwiOmF9fWZ1bmN0aW9uIGUoYSxiKXtpZighKGEgaW5zdGFuY2VvZiBiKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfWZ1bmN0aW9uIGYoYSxiKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBiJiZudWxsIT09Yil0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2YgYik7YS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShiJiZiLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmEsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksYiYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YoYSxiKTphLl9fcHJvdG9fXz1iKX1mdW5jdGlvbiBnKGEsYil7dmFyIGM9XCJkYXRhLWNsaXBib2FyZC1cIithO2lmKGIuaGFzQXR0cmlidXRlKGMpKXJldHVybiBiLmdldEF0dHJpYnV0ZShjKX1jLl9fZXNNb2R1bGU9ITA7dmFyIGg9YShcIi4vY2xpcGJvYXJkLWFjdGlvblwiKSxpPWQoaCksaj1hKFwiZGVsZWdhdGUtZXZlbnRzXCIpLGs9ZChqKSxsPWEoXCJ0aW55LWVtaXR0ZXJcIiksbT1kKGwpLG49ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihjLGQpe2UodGhpcyxiKSxhLmNhbGwodGhpcyksdGhpcy5yZXNvbHZlT3B0aW9ucyhkKSx0aGlzLmRlbGVnYXRlQ2xpY2soYyl9cmV0dXJuIGYoYixhKSxiLnByb3RvdHlwZS5yZXNvbHZlT3B0aW9ucz1mdW5jdGlvbigpe3ZhciBhPWFyZ3VtZW50cy5sZW5ndGg8PTB8fHZvaWQgMD09PWFyZ3VtZW50c1swXT97fTphcmd1bWVudHNbMF07dGhpcy5hY3Rpb249XCJmdW5jdGlvblwiPT10eXBlb2YgYS5hY3Rpb24/YS5hY3Rpb246dGhpcy5kZWZhdWx0QWN0aW9uLHRoaXMudGFyZ2V0PVwiZnVuY3Rpb25cIj09dHlwZW9mIGEudGFyZ2V0P2EudGFyZ2V0OnRoaXMuZGVmYXVsdFRhcmdldCx0aGlzLnRleHQ9XCJmdW5jdGlvblwiPT10eXBlb2YgYS50ZXh0P2EudGV4dDp0aGlzLmRlZmF1bHRUZXh0fSxiLnByb3RvdHlwZS5kZWxlZ2F0ZUNsaWNrPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7dGhpcy5iaW5kaW5nPWtbXCJkZWZhdWx0XCJdLmJpbmQoZG9jdW1lbnQuYm9keSxhLFwiY2xpY2tcIixmdW5jdGlvbihhKXtyZXR1cm4gYi5vbkNsaWNrKGEpfSl9LGIucHJvdG90eXBlLnVuZGVsZWdhdGVDbGljaz1mdW5jdGlvbigpe2tbXCJkZWZhdWx0XCJdLnVuYmluZChkb2N1bWVudC5ib2R5LFwiY2xpY2tcIix0aGlzLmJpbmRpbmcpfSxiLnByb3RvdHlwZS5vbkNsaWNrPWZ1bmN0aW9uKGEpe3RoaXMuY2xpcGJvYXJkQWN0aW9uJiYodGhpcy5jbGlwYm9hcmRBY3Rpb249bnVsbCksdGhpcy5jbGlwYm9hcmRBY3Rpb249bmV3IGlbXCJkZWZhdWx0XCJdKHthY3Rpb246dGhpcy5hY3Rpb24oYS5kZWxlZ2F0ZVRhcmdldCksdGFyZ2V0OnRoaXMudGFyZ2V0KGEuZGVsZWdhdGVUYXJnZXQpLHRleHQ6dGhpcy50ZXh0KGEuZGVsZWdhdGVUYXJnZXQpLHRyaWdnZXI6YS5kZWxlZ2F0ZVRhcmdldCxlbWl0dGVyOnRoaXN9KX0sYi5wcm90b3R5cGUuZGVmYXVsdEFjdGlvbj1mdW5jdGlvbihhKXtyZXR1cm4gZyhcImFjdGlvblwiLGEpfSxiLnByb3RvdHlwZS5kZWZhdWx0VGFyZ2V0PWZ1bmN0aW9uKGEpe3ZhciBiPWcoXCJ0YXJnZXRcIixhKTtyZXR1cm4gYj9kb2N1bWVudC5xdWVyeVNlbGVjdG9yKGIpOnZvaWQgMH0sYi5wcm90b3R5cGUuZGVmYXVsdFRleHQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGcoXCJ0ZXh0XCIsYSl9LGIucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLnVuZGVsZWdhdGVDbGljaygpLHRoaXMuY2xpcGJvYXJkQWN0aW9uJiYodGhpcy5jbGlwYm9hcmRBY3Rpb24uZGVzdHJveSgpLHRoaXMuY2xpcGJvYXJkQWN0aW9uPW51bGwpfSxifShtW1wiZGVmYXVsdFwiXSk7Y1tcImRlZmF1bHRcIl09bixiLmV4cG9ydHM9Y1tcImRlZmF1bHRcIl19LHtcIi4vY2xpcGJvYXJkLWFjdGlvblwiOjYsXCJkZWxlZ2F0ZS1ldmVudHNcIjoxLFwidGlueS1lbWl0dGVyXCI6NX1dfSx7fSxbN10pKDcpfSk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
